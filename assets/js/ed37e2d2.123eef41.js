"use strict";(self.webpackChunkgfdoc=self.webpackChunkgfdoc||[]).push([[61613],{76982:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>o,contentTitle:()=>i,default:()=>h,frontMatter:()=>s,metadata:()=>d,toc:()=>a});var r=t(74848),c=t(28453);const s={title:"\u7c7b\u578b\u8f6c\u6362-Struct\u8f6c\u6362",sidebar_position:2},i=void 0,d={id:"\u6838\u5fc3\u7ec4\u4ef6/\u7c7b\u578b\u8f6c\u6362/\u7c7b\u578b\u8f6c\u6362-Struct\u8f6c\u6362",title:"\u7c7b\u578b\u8f6c\u6362-Struct\u8f6c\u6362",description:"\u9879\u76ee\u4e2d\u6211\u4eec\u7ecf\u5e38\u4f1a\u9047\u5230\u5927\u91cf struct \u7684\u4f7f\u7528\uff0c\u4ee5\u53ca\u5404\u79cd\u6570\u636e\u7c7b\u578b\u5230 struct \u7684\u8f6c\u6362/\u8d4b\u503c\uff08\u7279\u522b\u662f json/ xml/\u5404\u79cd\u534f\u8bae\u7f16\u7801\u8f6c\u6362\uff09\u3002\u4e3a\u63d0\u9ad8\u7f16\u7801\u53ca\u9879\u76ee\u7ef4\u62a4\u6548\u7387\uff0c gconv \u6a21\u5757\u4e3a\u5404\u4f4d\u5f00\u53d1\u8005\u5e26\u6765\u4e86\u6781\u5927\u7684\u798f\u5229\uff0c\u4e3a\u6570\u636e\u89e3\u6790\u63d0\u4f9b\u4e86\u66f4\u9ad8\u7684\u7075\u6d3b\u5ea6\u3002",source:"@site/versioned_docs/version-2.7.x/4-\u6838\u5fc3\u7ec4\u4ef6/7-\u7c7b\u578b\u8f6c\u6362/2-\u7c7b\u578b\u8f6c\u6362-Struct\u8f6c\u6362.md",sourceDirName:"4-\u6838\u5fc3\u7ec4\u4ef6/7-\u7c7b\u578b\u8f6c\u6362",slug:"/\u6838\u5fc3\u7ec4\u4ef6/\u7c7b\u578b\u8f6c\u6362/\u7c7b\u578b\u8f6c\u6362-Struct\u8f6c\u6362",permalink:"/gf-site/docs/2.7.x/\u6838\u5fc3\u7ec4\u4ef6/\u7c7b\u578b\u8f6c\u6362/\u7c7b\u578b\u8f6c\u6362-Struct\u8f6c\u6362",draft:!1,unlisted:!1,editUrl:"https://github.com/gogf/gf-site/blob/main/versioned_docs/version-2.7.x/4-\u6838\u5fc3\u7ec4\u4ef6/7-\u7c7b\u578b\u8f6c\u6362/2-\u7c7b\u578b\u8f6c\u6362-Struct\u8f6c\u6362.md",tags:[],version:"2.7.x",lastUpdatedBy:"John",lastUpdatedAt:172999724e4,sidebarPosition:2,frontMatter:{title:"\u7c7b\u578b\u8f6c\u6362-Struct\u8f6c\u6362",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"\u7c7b\u578b\u8f6c\u6362-Map\u8f6c\u6362",permalink:"/gf-site/docs/2.7.x/\u6838\u5fc3\u7ec4\u4ef6/\u7c7b\u578b\u8f6c\u6362/\u7c7b\u578b\u8f6c\u6362-Map\u8f6c\u6362"},next:{title:"\u7c7b\u578b\u8f6c\u6362-Structs\u8f6c\u6362",permalink:"/gf-site/docs/2.7.x/\u6838\u5fc3\u7ec4\u4ef6/\u7c7b\u578b\u8f6c\u6362/\u7c7b\u578b\u8f6c\u6362-Structs\u8f6c\u6362"}},o={},a=[{value:"\u8f6c\u6362\u89c4\u5219",id:"\u8f6c\u6362\u89c4\u5219",level:2},{value:"\u5339\u914d\u89c4\u5219\u4f18\u5148\u7ea7\u8bf4\u660e(\u53ea\u9488\u5bf9\u4e8emap\u5230struct\u7684\u8f6c\u6362)",id:"\u5339\u914d\u89c4\u5219\u4f18\u5148\u7ea7\u8bf4\u660e\u53ea\u9488\u5bf9\u4e8emap\u5230struct\u7684\u8f6c\u6362",level:2},{value:"\u81ea\u52a8\u521b\u5efa\u5bf9\u8c61",id:"\u81ea\u52a8\u521b\u5efa\u5bf9\u8c61",level:2},{value:"<code>Struct</code> \u9012\u5f52\u8f6c\u6362",id:"struct-\u9012\u5f52\u8f6c\u6362",level:2},{value:"\u793a\u4f8b1\uff0c\u57fa\u672c\u4f7f\u7528",id:"\u793a\u4f8b1\u57fa\u672c\u4f7f\u7528",level:2},{value:"\u793a\u4f8b2\uff0c\u590d\u6742\u5c5e\u6027\u7c7b\u578b",id:"\u793a\u4f8b2\u590d\u6742\u5c5e\u6027\u7c7b\u578b",level:2}];function l(n){const e={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.p,{children:["\u9879\u76ee\u4e2d\u6211\u4eec\u7ecf\u5e38\u4f1a\u9047\u5230\u5927\u91cf ",(0,r.jsx)(e.code,{children:"struct"})," \u7684\u4f7f\u7528\uff0c\u4ee5\u53ca\u5404\u79cd\u6570\u636e\u7c7b\u578b\u5230 ",(0,r.jsx)(e.code,{children:"struct"})," \u7684\u8f6c\u6362/\u8d4b\u503c\uff08\u7279\u522b\u662f ",(0,r.jsx)(e.code,{children:"json"}),"/ ",(0,r.jsx)(e.code,{children:"xml"}),"/\u5404\u79cd\u534f\u8bae\u7f16\u7801\u8f6c\u6362\uff09\u3002\u4e3a\u63d0\u9ad8\u7f16\u7801\u53ca\u9879\u76ee\u7ef4\u62a4\u6548\u7387\uff0c ",(0,r.jsx)(e.code,{children:"gconv"})," \u6a21\u5757\u4e3a\u5404\u4f4d\u5f00\u53d1\u8005\u5e26\u6765\u4e86\u6781\u5927\u7684\u798f\u5229\uff0c\u4e3a\u6570\u636e\u89e3\u6790\u63d0\u4f9b\u4e86\u66f4\u9ad8\u7684\u7075\u6d3b\u5ea6\u3002"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"gconv"})," \u6a21\u5757\u901a\u8fc7 ",(0,r.jsx)(e.code,{children:"Struct"})," \u8f6c\u6362\u65b9\u6cd5\u6267\u884c ",(0,r.jsx)(e.code,{children:"struct"})," \u7c7b\u578b\u8f6c\u6362\uff0c\u5176\u5b9a\u4e49\u5982\u4e0b\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"// Struct maps the params key-value pairs to the corresponding struct object's attributes.\n// The third parameter `mapping` is unnecessary, indicating the mapping rules between the\n// custom key name and the attribute name(case sensitive).\n//\n// Note:\n// 1. The `params` can be any type of map/struct, usually a map.\n// 2. The `pointer` should be type of *struct/**struct, which is a pointer to struct object\n//    or struct pointer.\n// 3. Only the public attributes of struct object can be mapped.\n// 4. If `params` is a map, the key of the map `params` can be lowercase.\n//    It will automatically convert the first letter of the key to uppercase\n//    in mapping procedure to do the matching.\n//    It ignores the map key, if it does not match.\nfunc Struct(params interface{}, pointer interface{}, mapping ...map[string]string) (err error)\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u5176\u4e2d\uff1a"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"params"})," \u4e3a\u9700\u8981\u8f6c\u6362\u5230 ",(0,r.jsx)(e.code,{children:"struct"})," \u7684\u53d8\u91cf\u53c2\u6570\uff0c\u53ef\u4ee5\u4e3a\u4efb\u610f\u6570\u636e\u7c7b\u578b\uff0c\u5e38\u89c1\u7684\u6570\u636e\u7c7b\u578b\u4e3a ",(0,r.jsx)(e.code,{children:"map"}),"\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"pointer"})," \u4e3a\u9700\u8981\u6267\u884c\u8f6c\u7684\u76ee\u6807 ",(0,r.jsx)(e.code,{children:"struct"})," \u5bf9\u8c61\uff0c\u8fd9\u4e2a\u53c2\u6570\u5fc5\u987b\u4e3a\u8be5 ",(0,r.jsx)(e.code,{children:"struct"})," \u7684\u5bf9\u8c61\u6307\u9488\uff0c\u8f6c\u6362\u6210\u529f\u540e\u8be5\u5bf9\u8c61\u7684\u5c5e\u6027\u5c06\u4f1a\u66f4\u65b0\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"mapping"})," \u4e3a\u81ea\u5b9a\u4e49\u7684 ",(0,r.jsx)(e.code,{children:"map\u952e\u540d"})," \u5230 ",(0,r.jsx)(e.code,{children:"strcut\u5c5e\u6027"})," \u4e4b\u95f4\u7684\u6620\u5c04\u5173\u7cfb\uff0c\u6b64\u65f6 ",(0,r.jsx)(e.code,{children:"params"})," \u53c2\u6570\u5fc5\u987b\u4e3a ",(0,r.jsx)(e.code,{children:"map"})," \u7c7b\u578b\uff0c\u5426\u5219\u8be5\u53c2\u6570\u65e0\u610f\u4e49\u3002\u5927\u90e8\u5206\u573a\u666f\u4e0b\u4f7f\u7528\u53ef\u4ee5\u4e0d\u7528\u63d0\u4f9b\u8be5\u53c2\u6570\uff0c\u76f4\u63a5\u4f7f\u7528\u9ed8\u8ba4\u7684\u8f6c\u6362\u89c4\u5219\u5373\u53ef\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["\u66f4\u591a\u7684 ",(0,r.jsx)(e.code,{children:"struct"})," \u76f8\u5173\u8f6c\u6362\u65b9\u6cd5\u8bf7\u53c2\u8003\u63a5\u53e3\u6587\u6863\uff1a ",(0,r.jsx)(e.a,{href:"https://pkg.go.dev/github.com/gogf/gf/v2/util/gconv",children:"https://pkg.go.dev/github.com/gogf/gf/v2/util/gconv"})]}),"\n",(0,r.jsx)(e.h2,{id:"\u8f6c\u6362\u89c4\u5219",children:"\u8f6c\u6362\u89c4\u5219"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"gconv"})," \u6a21\u5757\u7684 ",(0,r.jsx)(e.code,{children:"struct"})," \u8f6c\u6362\u7279\u6027\u975e\u5e38\u5f3a\u5927\uff0c\u652f\u6301\u4efb\u610f\u6570\u636e\u7c7b\u578b\u5230 ",(0,r.jsx)(e.code,{children:"struct"})," \u5c5e\u6027\u7684\u6620\u5c04\u8f6c\u6362\u3002\u5728\u6ca1\u6709\u63d0\u4f9b\u81ea\u5b9a\u4e49 ",(0,r.jsx)(e.code,{children:"mapping"})," \u8f6c\u6362\u89c4\u5219\u7684\u60c5\u51b5\u4e0b\uff0c\u9ed8\u8ba4\u7684\u8f6c\u6362\u89c4\u5219\u5982\u4e0b\uff1a"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"struct"})," \u4e2d\u9700\u8981\u5339\u914d\u7684\u5c5e\u6027\u5fc5\u987b\u4e3a ",(0,r.jsx)(e.strong,{children:"\u516c\u5f00\u5c5e\u6027"}),"(\u9996\u5b57\u6bcd\u5927\u5199)\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["\u6839\u636e ",(0,r.jsx)(e.code,{children:"params"})," \u7c7b\u578b\u7684\u4e0d\u540c\uff0c\u903b\u8f91\u4f1a\u6709\u4e0d\u540c\uff1a","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"params"})," \u53c2\u6570\u7c7b\u578b\u4e3a ",(0,r.jsx)(e.code,{children:"map"}),"\uff1a\u952e\u540d\u4f1a\u81ea\u52a8\u6309\u7167 ",(0,r.jsx)(e.strong,{children:"\u4e0d\u533a\u5206\u5927\u5c0f\u5199"})," \u4e14 ",(0,r.jsx)(e.strong,{children:"\u5ffd\u7565\u7279\u6b8a\u5b57\u7b26"}),"\xa0\u7684\u5f62\u5f0f\u4e0estruct\u5c5e\u6027\u8fdb\u884c\u5339\u914d\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"params"})," \u53c2\u6570\u4e3a\u5176\u4ed6\u7c7b\u578b\uff1a\u5c06\u4f1a\u628a\u8be5\u53d8\u91cf\u503c\u4e0e ",(0,r.jsx)(e.code,{children:"struct"})," \u7684\u7b2c\u4e00\u4e2a\u5c5e\u6027\u8fdb\u884c\u5339\u914d\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["\xa0\u6b64\u5916\uff0c\u5982\u679c ",(0,r.jsx)(e.code,{children:"struct"})," \u7684\u5c5e\u6027\u4e3a\u590d\u6742\u6570\u636e\u7c7b\u578b\u5982 ",(0,r.jsx)(e.code,{children:"slice"}),", ",(0,r.jsx)(e.code,{children:"map"}),", ",(0,r.jsx)(e.code,{children:"strcut"})," \u90a3\u4e48\u4f1a\u8fdb\u884c\u9012\u5f52\u5339\u914d\u8d4b\u503c\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:"\u5982\u679c\u5339\u914d\u6210\u529f\uff0c\u90a3\u4e48\u5c06\u952e\u503c\u8d4b\u503c\u7ed9\u5c5e\u6027\uff0c\u5982\u679c\u65e0\u6cd5\u5339\u914d\uff0c\u90a3\u4e48\u5ffd\u7565\u8be5\u952e\u503c\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"\u5339\u914d\u89c4\u5219\u4f18\u5148\u7ea7\u8bf4\u660e\u53ea\u9488\u5bf9\u4e8emap\u5230struct\u7684\u8f6c\u6362",children:"\u5339\u914d\u89c4\u5219\u4f18\u5148\u7ea7\u8bf4\u660e(\u53ea\u9488\u5bf9\u4e8emap\u5230struct\u7684\u8f6c\u6362)"}),"\n",(0,r.jsxs)(e.p,{children:["1.\u5982\u679c ",(0,r.jsx)(e.code,{children:"mapping"})," \u53c2\u6570\u4e0d\u4e3a\u7a7a\uff0c\u5c06\u4f1a\u6309\u7167 ",(0,r.jsx)(e.code,{children:"mapping"})," \u7684 ",(0,r.jsx)(e.code,{children:"key "})," \u5230 ",(0,r.jsx)(e.code,{children:"strcut\u5b57\u6bb5\u540d"})," \u4e4b\u95f4\u7684\u6620\u5c04\u5173\u7cfb\u3002"]}),"\n",(0,r.jsxs)(e.p,{children:["2.\u5982\u679c\u8bbe\u7f6e\u4e86\u5b57\u6bb5\u7684 ",(0,r.jsx)(e.code,{children:"tag"}),"\uff0c\u4f1a\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"tag"})," \u6765\u5339\u914d ",(0,r.jsx)(e.code,{children:"params"})," \u53c2\u6570\u7684\xa0 ",(0,r.jsx)(e.code,{children:"key"}),"\u3002"]}),"\n",(0,r.jsxs)(e.p,{children:["\xa0 \xa0 \xa0 \xa0\u5982\u679c\u6ca1\u6709\u8bbe\u7f6e ",(0,r.jsx)(e.code,{children:"tag"}),"\uff0cgconv\u5c06\u4f1a\u4f9d\u6b21\u6309\u7167 ",(0,r.jsx)(e.code,{children:"gconv, param, c, p, json"})," \u8fd9\u4e2a\u987a\u5e8f\u6765\u67e5\u627e\u5b57\u6bb5\u662f\u5426\u6709\u5bf9\u5e94\u7684 ",(0,r.jsx)(e.code,{children:"tag"})]}),"\n",(0,r.jsxs)(e.p,{children:["3.\u6309\u7167 ",(0,r.jsx)(e.code,{children:"\u5b57\u6bb5\u540d"})," \u5339\u914d\u3002"]}),"\n",(0,r.jsxs)(e.p,{children:["4.\u5982\u679c\u4ee5\u4e0a\u90fd\u6ca1\u6709\u5339\u914d\u5230\uff0cgconv\u5c06\u4f1a\u904d\u5386 ",(0,r.jsx)(e.code,{children:"params"})," \u53c2\u6570\u6240\u6709\u7684 ",(0,r.jsx)(e.code,{children:"key"}),"\uff0c\u6309\u7167 \u4ee5\u4e0b\u89c4\u5219\u6765\u5339\u914d"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"\u5b57\u6bb5\u540d"}),":\u5ffd\u7565\u5927\u5c0f\u5199\u548c\u4e0b\u5212\u7ebf"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"key"}),": \u5ffd\u7565\u5927\u5c0f\u5199\u548c\u4e0b\u5212\u7ebf\u548c\u7279\u6b8a\u5b57\u7b26"]}),"\n",(0,r.jsx)(e.p,{children:"\u63d0\u793a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"\u6ca1\u6709\u7279\u6b8a\u60c5\u51b5\uff0c\u8bf7\u5c3d\u91cf\u6ee1\u8db3\u524d\u4e09\u6761\u89c4\u5219\uff0c\u7b2c\u56db\u6761\u89c4\u5219\u6027\u80fd\u8f83\u5dee\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4ee5\u4e0b\u662f\u51e0\u4e2a ",(0,r.jsx)(e.code,{children:"map"})," \u952e\u540d\u4e0e ",(0,r.jsx)(e.code,{children:"struct"})," \u5c5e\u6027\u540d\u79f0\u7684\u793a\u4f8b\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"map\u952e\u540d    struct\u5c5e\u6027     \u662f\u5426\u5339\u914d\nname       Name           match\nEmail      Email          match\nnickname   NickName       match\nNICKNAME   NickName       match\nNick-Name  NickName       match\nnick_name  NickName       match\nnick name  NickName       match\nNickName   Nick_Name      match\nNick-name  Nick_Name      match\nnick_name  Nick_Name      match\nnick name  Nick_Name      match\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"\n\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\u81ea\u52a8\u521b\u5efa\u5bf9\u8c61",children:"\u81ea\u52a8\u521b\u5efa\u5bf9\u8c61"}),"\n",(0,r.jsxs)(e.p,{children:["\u5f53\u7ed9\u5b9a\u7684 ",(0,r.jsx)(e.code,{children:"pointer"})," \u53c2\u6570\u7c7b\u578b\u4e3a ",(0,r.jsx)(e.code,{children:"**struct"})," \u65f6\uff0c ",(0,r.jsx)(e.code,{children:"Struct"})," \u65b9\u6cd5\u5185\u90e8\u5c06\u4f1a\u81ea\u52a8\u521b\u5efa\u8be5 ",(0,r.jsx)(e.code,{children:"struct"})," \u5bf9\u8c61\uff0c\u5e76\u4fee\u6539\u4f20\u9012\u53d8\u91cf\u6307\u5411\u7684\u6307\u9488\u5730\u5740\u3002"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'package main\n\nimport (\n\t"github.com/gogf/gf/v2/frame/g"\n\t"github.com/gogf/gf/v2/util/gconv"\n)\n\nfunc main() {\n\ttype User struct {\n\t\tUid  int\n\t\tName string\n\t}\n\tparams := g.Map{\n\t\t"uid":  1,\n\t\t"name": "john",\n\t}\n\tvar user *User\n\tif err := gconv.Struct(params, &user); err != nil {\n\t\tpanic(err)\n\t}\n\tg.Dump(user)\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u6267\u884c\u540e\uff0c\u8f93\u51fa\u7ed3\u679c\u4e3a\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'{\n    Uid:  1,\n    Name: "john",\n}\n'})}),"\n",(0,r.jsxs)(e.h2,{id:"struct-\u9012\u5f52\u8f6c\u6362",children:[(0,r.jsx)(e.code,{children:"Struct"})," \u9012\u5f52\u8f6c\u6362"]}),"\n",(0,r.jsxs)(e.p,{children:["\u9012\u5f52\u8f6c\u6362\u662f\u6307\u5f53 ",(0,r.jsx)(e.code,{children:"struct"})," \u5bf9\u8c61\u5305\u542b\u5b50\u5bf9\u8c61\u65f6\uff0c\u5e76\u4e14\u5b50\u5bf9\u8c61\u662f ",(0,r.jsx)(e.code,{children:"embedded"})," \u65b9\u5f0f\u5b9a\u4e49\u65f6\uff0c\u53ef\u4ee5\u5c06 ",(0,r.jsx)(e.code,{children:"params"})," \u53c2\u6570\u6570\u636e\uff08\u7b2c\u4e00\u4e2a\u53c2\u6570\uff09\u540c\u65f6\u9012\u5f52\u5730\u6620\u5c04\u5230\u5176\u5b50\u5bf9\u8c61\u4e0a\uff0c\u5e38\u7528\u4e8e\u5e26\u6709\u7ee7\u627f\u5bf9\u8c61\u7684 ",(0,r.jsx)(e.code,{children:"struct"})," \u4e0a\u3002"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'package main\n\nimport (\n\t"github.com/gogf/gf/v2/frame/g"\n\t"github.com/gogf/gf/v2/util/gconv"\n)\n\nfunc main() {\n\ttype Ids struct {\n\t\tId         int    `json:"id"`\n\t\tUid        int    `json:"uid"`\n\t}\n\ttype Base struct {\n\t\tIds\n\t\tCreateTime string `json:"create_time"`\n\t}\n\ttype User struct {\n\t\tBase\n\t\tPassport   string `json:"passport"`\n\t\tPassword   string `json:"password"`\n\t\tNickname   string `json:"nickname"`\n\t}\n\tdata := g.Map{\n\t\t"id"          : 1,\n\t\t"uid"         : 100,\n\t\t"passport"    : "john",\n\t\t"password"    : "123456",\n\t\t"nickname"    : "John",\n\t\t"create_time" : "2019",\n\t}\n\tuser := new(User)\n\tgconv.Struct(data, user)\n\tg.Dump(user)\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u6267\u884c\u540e\uff0c\u7ec8\u7aef\u8f93\u51fa\u7ed3\u679c\u4e3a\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'{\n    Id:         1,\n    Uid:        100,\n    CreateTime: "2019",\n    Passport:   "john",\n    Password:   "123456",\n    Nickname:   "John",\n}\n'})}),"\n",(0,r.jsx)(e.h2,{id:"\u793a\u4f8b1\u57fa\u672c\u4f7f\u7528",children:"\u793a\u4f8b1\uff0c\u57fa\u672c\u4f7f\u7528"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'package main\n\nimport (\n\t"github.com/gogf/gf/v2/frame/g"\n\t"github.com/gogf/gf/v2/util/gconv"\n)\n\ntype User struct {\n\tUid      int\n\tName     string\n\tSiteUrl  string\n\tNickName string\n\tPass1    string `c:"password1"`\n\tPass2    string `c:"password2"`\n}\n\nfunc main() {\n\tvar user *User\n\n\t// \u4f7f\u7528\u9ed8\u8ba4\u6620\u5c04\u89c4\u5219\u7ed1\u5b9a\u5c5e\u6027\u503c\u5230\u5bf9\u8c61\n\tuser = new(User)\n\tparams1 := g.Map{\n\t\t"uid":       1,\n\t\t"Name":      "john",\n\t\t"site_url":  "https://goframe.org",\n\t\t"nick_name": "johng",\n\t\t"PASS1":     "123",\n\t\t"PASS2":     "456",\n\t}\n\tif err := gconv.Struct(params1, user); err == nil {\n\t\tg.Dump(user)\n\t}\n\n\t// \u4f7f\u7528struct tag\u6620\u5c04\u7ed1\u5b9a\u5c5e\u6027\u503c\u5230\u5bf9\u8c61\n\tuser = new(User)\n\tparams2 := g.Map{\n\t\t"uid":       2,\n\t\t"name":      "smith",\n\t\t"site-url":  "https://goframe.org",\n\t\t"nick name": "johng",\n\t\t"password1": "111",\n\t\t"password2": "222",\n\t}\n\tif err := gconv.Struct(params2, user); err == nil {\n\t\tg.Dump(user)\n\t}\n}\n'})}),"\n",(0,r.jsxs)(e.p,{children:["\u53ef\u4ee5\u770b\u5230\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7 ",(0,r.jsx)(e.code,{children:"Struct"})," \u65b9\u6cd5\u5c06 ",(0,r.jsx)(e.code,{children:"map"})," \u6309\u7167\u9ed8\u8ba4\u89c4\u5219\u7ed1\u5b9a\u5230 ",(0,r.jsx)(e.code,{children:"struct"})," \u4e0a\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"struct tag"})," \u7684\u65b9\u5f0f\u8fdb\u884c\u7075\u6d3b\u7684\u8bbe\u7f6e\u3002\u6b64\u5916\uff0c ",(0,r.jsx)(e.code,{children:"Struct"})," \u65b9\u6cd5\u6709\u7b2c\u4e09\u4e2a ",(0,r.jsx)(e.code,{children:"map"})," \u53c2\u6570\uff0c\u7528\u4e8e\u6307\u5b9a\u81ea\u5b9a\u4e49\u7684\u53c2\u6570\u540d\u79f0\u5230\u5c5e\u6027\u540d\u79f0\u7684\u6620\u5c04\u5173\u7cfb\u3002"]}),"\n",(0,r.jsx)(e.p,{children:"\u6267\u884c\u540e\uff0c\u8f93\u51fa\u7ed3\u679c\u4e3a\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'{\n    Uid:      1,\n    Name:     "john",\n    SiteUrl:  "https://goframe.org",\n    NickName: "johng",\n    Pass1:    "123",\n    Pass2:    "456",\n}\n{\n    Uid:      2,\n    Name:     "smith",\n    SiteUrl:  "https://goframe.org",\n    NickName: "johng",\n    Pass1:    "111",\n    Pass2:    "222",\n}\n'})}),"\n",(0,r.jsx)(e.h2,{id:"\u793a\u4f8b2\u590d\u6742\u5c5e\u6027\u7c7b\u578b",children:"\u793a\u4f8b2\uff0c\u590d\u6742\u5c5e\u6027\u7c7b\u578b"}),"\n",(0,r.jsxs)(e.p,{children:["\u5c5e\u6027\u652f\u6301 ",(0,r.jsx)(e.code,{children:"struct"})," \u5bf9\u8c61\u6216\u8005 ",(0,r.jsx)(e.code,{children:"struct"})," \u5bf9\u8c61\u6307\u9488\uff08\u76ee\u6807\u4e3a\u6307\u9488\u4e14\u4e3a ",(0,r.jsx)(e.code,{children:"nil"})," \u65f6\uff0c\u8f6c\u6362\u65f6\u4f1a\u81ea\u52a8\u521d\u59cb\u5316\uff09\u8f6c\u6362\u3002"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'package main\n\nimport (\n    "github.com/gogf/gf/v2/util/gconv"\n    "github.com/gogf/gf/v2/frame/g"\n    "fmt"\n)\n\nfunc main() {\n    type Score struct {\n        Name   string\n        Result int\n    }\n    type User1 struct {\n        Scores Score\n    }\n    type User2 struct {\n        Scores *Score\n    }\n\n    user1  := new(User1)\n    user2  := new(User2)\n\tscores := g.Map{\n\t\t"Scores": g.Map{\n\t\t\t"Name":   "john",\n\t\t\t"Result": 100,\n\t\t},\n\t}\n\n    if err := gconv.Struct(scores, user1); err != nil {\n        fmt.Println(err)\n    } else {\n        g.Dump(user1)\n    }\n    if err := gconv.Struct(scores, user2); err != nil {\n        fmt.Println(err)\n    } else {\n        g.Dump(user2)\n    }\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u6267\u884c\u540e\uff0c\u8f93\u51fa\u7ed3\u679c\u4e3a\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'{\n    Scores: {\n        Name:   "john",\n        Result: 100,\n    },\n}\n{\n    Scores: {\n        Name:   "john",\n        Result: 100,\n    },\n}\n'})})]})}function h(n={}){const{wrapper:e}={...(0,c.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(l,{...n})}):l(n)}},28453:(n,e,t)=>{t.d(e,{R:()=>i,x:()=>d});var r=t(96540);const c={},s=r.createContext(c);function i(n){const e=r.useContext(s);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(c):n.components||c:i(n.components),r.createElement(s.Provider,{value:e},n.children)}}}]);