"use strict";(self.webpackChunkgfdoc=self.webpackChunkgfdoc||[]).push([[87636],{26153:(e,n,c)=>{c.r(n),c.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>x,frontMatter:()=>d,metadata:()=>l,toc:()=>t});var s=c(74848),i=c(28453);const d={slug:"/v1.6",title:"v1.6 2019-04-09",sidebar_position:10},r=void 0,l={id:"\u5386\u53f2\u7248\u672c\u8bb0\u5f55 v1.x/v1.6 2019-04-09",title:"v1.6 2019-04-09",description:"\u65b0\u529f\u80fd/\u6539\u8fdb",source:"@site/release/8-\u5386\u53f2\u7248\u672c\u8bb0\u5f55 v1.x/10-v1.6 2019-04-09.md",sourceDirName:"8-\u5386\u53f2\u7248\u672c\u8bb0\u5f55 v1.x",slug:"/v1.6",permalink:"/gf-site/release/v1.6",draft:!1,unlisted:!1,editUrl:"https://github.com/gogf/gf-site/blob/main/release/8-\u5386\u53f2\u7248\u672c\u8bb0\u5f55 v1.x/10-v1.6 2019-04-09.md",tags:[],version:"current",lastUpdatedBy:"John",lastUpdatedAt:1730026931e3,sidebarPosition:10,frontMatter:{slug:"/v1.6",title:"v1.6 2019-04-09",sidebar_position:10},sidebar:"hiddenSidebar",previous:{title:"v1.7 2019-06-10",permalink:"/gf-site/release/v1.7"},next:{title:"v1.5 2019-02-28",permalink:"/gf-site/release/v1.5"}},o={},t=[{value:"\u65b0\u529f\u80fd/\u6539\u8fdb",id:"\u65b0\u529f\u80fd\u6539\u8fdb",level:3},{value:"Bug Fix",id:"bug-fix",level:3}];function h(e){const n={a:"a",code:"code",h3:"h3",li:"li",ol:"ol",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h3,{id:"\u65b0\u529f\u80fd\u6539\u8fdb",children:"\u65b0\u529f\u80fd/\u6539\u8fdb"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"gcron"})," \u5b9a\u65f6\u4efb\u52a1\u6a21\u5757\u589e\u52a0\u8fd0\u884c\u65e5\u5fd7\u8bb0\u5f55\u529f\u80fd\uff1a ",(0,s.jsx)(n.a,{href:"https://goframe.org/os/gcron/index",children:"https://goframe.org/os/gcron/index"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"gredis"})," \u589e\u52a0\u5168\u5c40\u5206\u7ec4\u914d\u7f6e\u529f\u80fd\uff0c\u5e76\u589e\u52a0\u66f4\u591a\u7684\u914d\u7f6e\u9009\u9879 ",(0,s.jsx)(n.code,{children:"maxIdle/maxActive/idleTimeout/maxConnLifetime"}),"\uff1a ",(0,s.jsx)(n.a,{href:"https://goframe.org/database/gredis/index",children:"https://goframe.org/database/gredis/index"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"gcfg"})," \u6a21\u5757\u589e\u52a0\u66f4\u591a\u7684\u9ed8\u8ba4\u914d\u7f6e\u6587\u4ef6\u68c0\u7d22\u8def\u5f84\uff0c\u5e76\u4e14\u589e\u52a0\u5168\u5c40\u5206\u7ec4\u914d\u7f6e\u7279\u6027\uff0c\u589e\u52a0 ",(0,s.jsx)(n.code,{children:"Instance"})," \u5355\u4f8b\u65b9\u6cd5\uff1a ",(0,s.jsx)(n.a,{href:"https://goframe.org/os/gcfg/index",children:"https://goframe.org/os/gcfg/index"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"gview"})," \u6a21\u5757\u589e\u52a0\u66f4\u591a\u7684\u9ed8\u8ba4\u914d\u7f6e\u6587\u4ef6\u68c0\u7d22\u8def\u5f84\uff0c\u5e76\u4e14\u589e\u52a0 ",(0,s.jsx)(n.code,{children:"Instance"})," \u5355\u4f8b\u65b9\u6cd5\uff1a ",(0,s.jsx)(n.a,{href:"https://goframe.org/os/gview/index",children:"https://goframe.org/os/gview/index"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ghttp"})," \u6a21\u5757\u65b0\u529f\u80fd\u53ca\u6539\u8fdb\uff1a","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u65b0\u589e ",(0,s.jsx)(n.code,{children:"CORS"})," HTTP(S)\u8de8\u57df\u8bf7\u6c42\u7279\u6027: ",(0,s.jsx)(n.a,{href:"https://goframe.org/net/ghttp/cors",children:"https://goframe.org/net/ghttp/cors"})]}),"\n",(0,s.jsxs)(n.li,{children:["\u589e\u52a0 ",(0,s.jsx)(n.code,{children:"TLSConfig"})," \u914d\u7f6e\u529f\u80fd\uff1b"]}),"\n",(0,s.jsxs)(n.li,{children:["\u53bb\u6389\u8def\u7531\u6ce8\u518c\u65b9\u6cd5\u7684 ",(0,s.jsx)(n.code,{children:"error"})," \u8fd4\u56de\u503c\uff0c\u5f53\u4ea7\u751f\u6ce8\u518c\u9519\u8bef\u65f6\u76f4\u63a5\u7ec8\u7aef\u6253\u5370\u9519\u8bef/\u8f93\u51fa\u5230\u65e5\u5fd7\u6587\u4ef6\uff1b"]}),"\n",(0,s.jsxs)(n.li,{children:["\u589e\u52a0\u5728 ",(0,s.jsx)(n.code,{children:"HTTP Code 302"})," \u8df3\u8f6c\u65f6\u7684 ",(0,s.jsx)(n.code,{children:"Set-Cookie"})," \u652f\u6301\uff1b"]}),"\n",(0,s.jsxs)(n.li,{children:["\u589e\u52a0\u5bf9 ",(0,s.jsx)(n.code,{children:"SESSION ID"})," \u7684\u5b89\u5168\u6027\u68c0\u67e5\uff1b"]}),"\n",(0,s.jsxs)(n.li,{children:["\u589e\u52a0\u5bf9\u57fa\u4e8e ",(0,s.jsx)(n.code,{children:"HTTPS"})," \u7684 ",(0,s.jsx)(n.code,{children:"WebSocket"})," \u652f\u6301\uff08 ",(0,s.jsx)(n.code,{children:"WSS"}),"\uff09\uff1a ",(0,s.jsx)(n.a,{href:"https://goframe.org/net/ghttp/websocket/index",children:"https://goframe.org/net/ghttp/websocket/index"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Request"})," \u5bf9\u8c61\u589e\u52a0 ",(0,s.jsx)(n.code,{children:"Error"})," \u65b9\u6cd5\uff0c\u7528\u4e8e\u8f93\u51fa\u81ea\u5b9a\u4e49\u9519\u8bef\u4fe1\u606f\u5230 ",(0,s.jsx)(n.code,{children:"WebServer"})," \u9519\u8bef\u65e5\u5fd7\u4e2d\uff1b"]}),"\n",(0,s.jsx)(n.li,{children:"\u5176\u4ed6\u4e00\u4e9b\u6539\u8fdb\uff1b"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"gdb"})," \u6a21\u5757\u65b0\u529f\u80fd\u53ca\u6539\u8fdb\uff1a","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u65b0\u589e ",(0,s.jsx)(n.code,{children:"Instance"})," \u5355\u4f8b\u7ba1\u7406\u65b9\u6cd5\uff1b"]}),"\n",(0,s.jsxs)(n.li,{children:["\u65b0\u589e ",(0,s.jsx)(n.code,{children:"Structs/Scan"})," \u94fe\u5f0f\u64cd\u4f5c\u65b9\u6cd5\uff0c ",(0,s.jsx)(n.code,{children:"gdb.DB/TX"})," \u65b0\u589e ",(0,s.jsx)(n.code,{children:"GetStructs/GetScan"})," \u65b9\u6cd5\uff0c\u7528\u4e8e\u7ed3\u679c\u96c6 ",(0,s.jsx)(n.code,{children:"struct"}),"/ ",(0,s.jsx)(n.code,{children:"slice"})," \u6620\u5c04\u8f6c\u6362\uff1a ",(0,s.jsx)(n.a,{href:"https://goframe.org/database/gdb/chaining",children:"https://goframe.org/database/gdb/chaining"})]}),"\n",(0,s.jsxs)(n.li,{children:["\u65b0\u589e ",(0,s.jsx)(n.code,{children:"Safe"})," \u94fe\u5f0f\u64cd\u4f5c\u65b9\u6cd5\uff08\u9ed8\u8ba4\u975e\u5e76\u53d1\u5b89\u5168\uff09\uff0c\u7528\u4e8e\u94fe\u5f0f\u5b89\u5168\u63a7\u5236\uff1a ",(0,s.jsx)(n.a,{href:"https://goframe.org/database/gdb/chaining",children:"https://goframe.org/database/gdb/chaining"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Where"})," \u94fe\u5f0f\u64cd\u4f5c\u65b9\u6cd5\u6539\u8fdb\uff1a","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u65b9\u6cd5\u652f\u6301\u4efb\u610f\u7684 ",(0,s.jsx)(n.code,{children:"string/map/slice/struct/*struct"})," \u7c7b\u578b\uff1b"]}),"\n",(0,s.jsxs)(n.li,{children:["\u903b\u8f91\u8c03\u6574\uff0c\u5f53\u94fe\u5f0f\u64cd\u4f5c\u4e2d\u5b58\u5728\u591a\u4e2a ",(0,s.jsx)(n.code,{children:"Where"})," \u65b9\u6cd5\u8c03\u7528\u65f6\uff0c\u81ea\u52a8\u8f6c\u6362\u4e3a ",(0,s.jsx)(n.code,{children:"And"})," \u6761\u4ef6\uff1b"]}),"\n",(0,s.jsxs)(n.li,{children:["\u652f\u6301 ",(0,s.jsx)(n.code,{children:"slice"})," \u6761\u4ef6\u53c2\u6570\uff0c\u5e38\u7528\u5728 ",(0,s.jsx)(n.code,{children:"SELECT IN"})," \u67e5\u8be2\u4e2d\uff0c\u4f8b\u5982\uff1a ",(0,s.jsx)(n.code,{children:'Where("uid IN(?)", g.Slice{1,2,3})'}),"\uff1b"]}),"\n",(0,s.jsxs)(n.li,{children:["\u652f\u6301\u5728 ",(0,s.jsx)(n.code,{children:"map"})," \u7c7b\u578b\u6761\u4ef6\u53c2\u6570\u7684 ",(0,s.jsx)(n.code,{children:"key"})," \u4e2d\u4f20\u9012\u6761\u4ef6\uff0c\u4f8b\u5982\uff1a ",(0,s.jsx)(n.code,{children:'Where(g.Map{"uid>?", uid})'}),"\uff1b"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"gconv"})," \u53ca ",(0,s.jsx)(n.code,{children:"gvalid"})," \u6a21\u5757\u6539\u8fdb\u5e76\u53bb\u6389\u5bf9\u79c1\u6709 ",(0,s.jsx)(n.code,{children:"struct"})," \u65b9\u6cd5\u5c5e\u6027\u7684\u8f6c\u6362/\u6821\u9a8c\uff1b"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"gconv.Map"})," \u8f6c\u6362\u65b9\u6cd5\u65b0\u589e\u5bf9 ",(0,s.jsx)(n.code,{children:"json tag"}),": ",(0,s.jsx)(n.code,{children:"-"}),", ",(0,s.jsx)(n.code,{children:"omitempty"})," \u7684\u652f\u6301: ",(0,s.jsx)(n.a,{href:"https://goframe.org/util/gconv/map",children:"https://goframe.org/util/gconv/map"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"gstr"})," \u6a21\u5757\u65b0\u589e ",(0,s.jsx)(n.code,{children:"ReplaceI/ReplaceIByArray/ReplaceIByMap"})," \u5927\u5c0f\u5199\u975e\u654f\u611f\u66ff\u6362\u65b9\u6cd5\uff1b"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"gutil"})," \u6a21\u5757\u589e\u52a0 ",(0,s.jsx)(n.code,{children:"IsEmpty"})," \u65b9\u6cd5\uff0c\u7528\u4e8e\u5224\u65ad\u7ed9\u5b9a\u53d8\u91cf\u662f\u5426\u4e3a\u7a7a\uff08\u6574\u578b0, \u5e03\u5c14false, slice/map\u957f\u5ea6\u4e3a0, \u5176\u4ed6\u4e3anil\u7684\u60c5\u51b5\uff0c\u5224\u65ad\u4e3a\u7a7a\uff09\uff0c\u5e76\u589e\u52a0\u5feb\u6377\u65b9\u6cd5 ",(0,s.jsx)(n.code,{children:"g.IsEmpty"}),"\uff1b"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"gutil"})," \u6a21\u5757\u589e\u52a0 ",(0,s.jsx)(n.code,{children:"Export"})," \u65b9\u6cd5\uff0c\u7528\u4e8e\u5bfc\u51fa\u8fd4\u56de\u683c\u5f0f\u5316\u6253\u5370\u7684\u53d8\u91cf\u5185\u5bb9\u5b57\u7b26\u4e32\uff0c\u5e76\u589e\u52a0\u5feb\u6377\u65b9\u6cd5 ",(0,s.jsx)(n.code,{children:"g.Export"}),"\uff1b"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"gspath"})," \u589e\u52a0\u7f13\u5b58\u53ca\u975e\u7f13\u5b58\u68c0\u7d22\u68c0\u7d22\u65b9\u6cd5 ",(0,s.jsx)(n.code,{children:"Search"}),"/ ",(0,s.jsx)(n.code,{children:"SearchWithCache"}),"\uff1b"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"gjson"})," \u6a21\u5757\u589e\u52a0\u9ed8\u8ba4\u7684 ",(0,s.jsx)(n.code,{children:"UseNumber"})," \u529f\u80fd\u652f\u6301\uff1b"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"gmap"})," \u589e\u52a0 ",(0,s.jsx)(n.code,{children:"SetIfNotExistFunc/SetIfNotExistFuncLock"})," \u65b9\u6cd5\uff1b"]}),"\n",(0,s.jsxs)(n.li,{children:["\u8fc1\u79fb ",(0,s.jsx)(n.code,{children:"greuseport"})," \u6a21\u5757\u5230\u65b0\u7684\u4ed3\u5e93\uff1a ",(0,s.jsx)(n.a,{href:"https://github.com/gogf/greuseport",children:"https://github.com/gogf/greuseport"})]}),"\n",(0,s.jsx)(n.li,{children:"\u5927\u91cf\u7684\u5355\u5143\u6d4b\u8bd5\u5b8c\u5584\uff1b"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"bug-fix",children:"Bug Fix"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\u4fee\u590d ",(0,s.jsx)(n.code,{children:"gqueue"})," \u6a21\u5757\u7684\u8d44\u6e90\u7ade\u4e89\u95ee\u9898\uff1b"]}),"\n",(0,s.jsxs)(n.li,{children:["\u4fee\u590d ",(0,s.jsx)(n.code,{children:"gconv.GTime"})," \u8f6c\u6362\u5931\u8d25\u95ee\u9898\uff1b"]}),"\n",(0,s.jsxs)(n.li,{children:["\u4fee\u590d ",(0,s.jsx)(n.code,{children:"gconv.String"})," \u5728\u8f6c\u6362 ",(0,s.jsx)(n.code,{children:"int"})," \u53c2\u6570\u65f6\u5b57\u8282\u6ea2\u51fa\u95ee\u9898\uff1b"]}),"\n",(0,s.jsxs)(n.li,{children:["\u4fee\u590d ",(0,s.jsx)(n.code,{children:"ghttp.Request"})," \u7684 ",(0,s.jsx)(n.code,{children:"HTTP Basic Auth"})," \u6821\u9a8c\u95ee\u9898\uff1b"]}),"\n",(0,s.jsxs)(n.li,{children:["\u4fee\u590d ",(0,s.jsx)(n.code,{children:"gxml"})," \u9488\u5bf9\u4e8e\u975e ",(0,s.jsx)(n.code,{children:"UTF-8"})," \u7f16\u7801\u5185\u5bb9\u8f6c\u6362\u7684\u5e76\u53d1\u5b89\u5168\u95ee\u9898\uff1b"]}),"\n",(0,s.jsxs)(n.li,{children:["\u4fee\u590d ",(0,s.jsx)(n.code,{children:"gtime"})," \u90e8\u5206 ",(0,s.jsx)(n.code,{children:"Format"}),"\uff08 ",(0,s.jsx)(n.code,{children:"G"}),"& ",(0,s.jsx)(n.code,{children:"j"}),"\uff09\u683c\u5f0f\u5931\u6548\u95ee\u9898\uff1b"]}),"\n",(0,s.jsxs)(n.li,{children:["\u4fee\u590d ",(0,s.jsx)(n.code,{children:"gudp.Conn"})," \u5bf9\u8c61\u7684 ",(0,s.jsx)(n.code,{children:"RemoteAddr"})," \u83b7\u53d6\u5ba2\u6237\u7aef\u8fde\u63a5\u5730\u5740\u65b9\u6cd5\u95ee\u9898\uff1b"]}),"\n",(0,s.jsxs)(n.li,{children:["\u4fee\u590d ",(0,s.jsx)(n.code,{children:"gmap/gcache"})," \u6a21\u5757\u7684 ",(0,s.jsx)(n.code,{children:"GetOrSetFuncLock"})," \u65b9\u6cd5\uff0c\u589e\u52a0\u5bf9\u56de\u8c03\u65b9\u6cd5\u8fd4\u56de\u503c\u7684 ",(0,s.jsx)(n.code,{children:"nil"})," \u5224\u65ad\uff0c\u53ea\u6709\u975enil\u8fd4\u56de\u503c\u624d\u4f1a\u88ab\u4fdd\u5b58\uff1b"]}),"\n"]})]})}function x(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},28453:(e,n,c)=>{c.d(n,{R:()=>r,x:()=>l});var s=c(96540);const i={},d=s.createContext(i);function r(e){const n=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);